<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&family=Russo+One&display=swap" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <script src="https://kit.fontawesome.com/2c784390b6.js" crossorigin="anonymous"></script>
</head>

<body>
    <header class="active">
        <div id="header_desk">
            <a href="index.html">
                <img src="img/babushka_face.svg" alt="face of logo resembling a matryoshka doll">
            </a>
            <div>
                <i id="burgerMenuOn" class="fas fa-bars"></i>
                <i id="burgerMenuOff" class="fas fa-times"></i>
                <nav id="navRow">
                    <ul>
                        <li><a href="index.html#section_menu">Menu</a></li>
                        <li><a href="about.html">Om</a></li>
                        <li><a href="contact.html">Kontakt</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div id="burgerItems">
            <hr style="margin: 0">
            <nav>
                <ul>
                    <li><a href="index.html#section_menu">Menu</a></li>
                    <hr>
                    <li><a href="about.html">Om</a></li>
                    <hr>
                    <li><a href="contact.html">Kontakt</a></li>
                    <hr style="margin-bottom: 0">
                </ul>
            </nav>
        </div>
    </header>
    <main>
        <img>
        <h2></h2>
        <h3></h3>
    </main>
    <footer>
        <div id="footer">
            <i class="fa fa-facebook-square" aria-hidden="true"></i>
            <i class="fa fa-instagram" aria-hidden="true"></i>
            <i class="fa fa-envelope" aria-hidden="true"></i>
        </div>
        <p>Generiskgade 12, 2300 København S</p>
        <p>© Copyright 2021 BABUSHKA. All Rights Reserved.</p>
    </footer>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get("id");

        let dish;

        const media = "https://babushka-dd8a.restdb.io/media/";
        const myHeaders = {
            'x-apikey': "600ec2fb1346a1524ff12de4"
        };

        console.log("ID", id);
        document.addEventListener("DOMContentLoaded", loadJSON);

        async function loadJSON() {
            const JSONData = await fetch(`https://babushka-dd8a.restdb.io/rest/menu/${id}`, {
                headers: myHeaders
            })

            dish = await JSONData.json();

            console.log("dishes", dish);
            showDish(dish);
        }

        function showDish() {
            document.querySelector("img").src = media + dish.billede[0];
            document.querySelector("img").alt = dish.billede[0];
            document.querySelector("h2").textContent = dish.navn;
            document.querySelector("h3").textContent = dish.langbeskrivelse;
        }

    </script>
</body>

</html>
